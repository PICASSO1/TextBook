Microsoft (R) Macro Assembler Version 5.00                  1/12/23 23:14:11
                                                             Page     1-1


       1				ï»¿ ; 
MAIN.ASM(1): warning A4001: Extra characters on line
       2				 ; File Name: MAIN.ASM 
       3				 ; 
       4				 ; CopyLeft (C) 2023, Picasso's Fantasy
					 Notepad. All rights reserved. 
       5				 ; 
       6				 ; Author: Pablo Picasso G. (PabloPicas
					so.G@gmail.com) 
       7				 ; 
       8				 ; Version: 1.0.0.build011223 
       9				 ; 
      10				 ; Date: 2023 / 01 / 12 
      11				 ; 
      12				 ; Description: é€™æ˜¯ä¸€å€‹ç”¨å †ç–Š (
					.STACK Segment) ä¾†ç•¶ä½œå‡½å¼åƒæ•¸å‚
					³éçš„ç¯„ä¾‹ï¼ 
      13				 ;              å»ºè­°ä½¿ç”¨é¡ä¼¼ 8086
					 Emulator çš„åœ–å½¢åŒ–ä»‹é¢ï¼Œä¾†è§€å¯
					Ÿå †ç–Šå€æ®µå…§è³‡æ–™çš„è®ŠåŒ–æœƒæ¯”è¼
					ƒæ¸…æ¥šåŠç†è§
      14				 ; 
      15				 
      16				.MODEL	SMALL 
      17				 
      18 0400				.STACK 
      19				 
      20 0000				.DATA 
      21 0000  31 20 2B 20 34 20 3D		MSG1 DB  '1 + 4 = $' 
      22       20 24			
      23 0009  0D 0A 32 20 2A 20 33		MSG2 DB  0DH, 0AH, '2 * 3 = $' 
      24       20 3D 20 24		
      25				 
      26 0000				.CODE 
      27 0000				main: 
      28 0000  B8 ---- R			MOV  AX, @DATA          ; æŠŠ .
					DATA Segment çš„ä½å€å‚³é€åˆ° AX æš«å
					­˜å™¨ï¼›å³ .DATA Segment çš„èµ·å§‹ä½å
					€æ”¾åˆ° AX 
      29 0003  8E D8				MOV  DS, AX             ; æŠŠ A
					X Register çš„è¨˜æ†¶é«”ä½å€è¨­å®šçµ¦ 
					Data Segment Register 
      30 0005  B8 0104				MOV  AX, 0104H          ; å°‡æ•
					¸å€¼ 0x0104 ç§»å‹•åˆ° AX Register 
      31 0008  BB 0203				MOV  BX, 0203H          ; å°‡æ•
					¸å€¼ 0x0203 ç§»å‹•åˆ° BX Register 
      32 000B  50				PUSH AX                 ; å°‡ A
					X Register çš„å…§å®¹ç§»å‹•åˆ° .STACK Se
					gment 
      33 000C  E8 0037 R			CALL ADDX               ; å‘¼å
					« ADDX å‡½å¼ 
      34 000F  8B EC				MOV  BP, SP             ; å°‡ S
					tack Pointer çš„è¨˜æ†¶é«”ä½å€ç§»å‹•åˆ
					° Base Pointer 
Microsoft (R) Macro Assembler Version 5.00                  1/12/23 23:14:11
                                                             Page     1-2


      35 0011  BA 0000 R			MOV  DX, OFFSET MSG1    ; å°‡ M
					SG1 çš„è¨˜æ†¶é«”ä½å€ï¼Œå†åŠ ä¸Šåç§
					»é‡ï¼Œç§»å‹•åˆ° DX Register 
      36 0014  B4 09				MOV  AH, 09H            ; DOS ç
					š„ç¬¬ 09 è™Ÿä¸­æ–·æœå‹™ (é¡¯ç¤ºå­—ä¸²)
					ï¼›DL (DX Low Byte)ç‚ºè¦é–‹å§‹è¼¸å‡ºçš
					„å­—ä¸² 
      37 0016  CD 21				INT  21H                ; INT 2
					1H: DOS ä¸­æ–· 
      38 0018  8A 56 01				MOV  DL, [BP+1]         ; å°‡ B
					ase Pointer æ‰€æŒ‡åˆ°çš„è¨˜æ†¶é«”ä½å€
					 (æ­¤æ™‚å…§å®¹æ‡‰ç‚º 0x04)å†åŠ ä¸Šï¼‘(
					æ­¤æ™‚å…§å®¹æ‡‰ç‚º 0x3
      39 001B  B4 02				MOV  AH, 02H            ; DOS ç
					š„ç¬¬ 02 è™Ÿä¸­æ–·æœå‹™ (é¡¯ç¤ºè¼¸å‡ºå
					­—å…ƒ)ï¼›DL (DX Low Byte)ç‚ºè¦è¼¸å‡ºçš
					„å­—å…ƒ ('5') 
      40 001D  CD 21				INT  21H                ; INT 2
					1H: DOS ä¸­æ–· 
      41				 
      42 001F  53				PUSH BX                 ; å°‡ B
					X Register çš„å…§å®¹ç§»å‹•åˆ° .STACK Se
					gment 
      43 0020  E8 0047 R			CALL MULX               ; å‘¼å
					« MULX å‡½å¼ 
      44 0023  8B EC				MOV  BP, SP             ; å°‡ S
					tack Pointer çš„å…§å®¹ç§»å‹•åˆ° Base Po
					inter 
      45 0025  BA 0009 R			MOV  DX, OFFSET MSG2    ; å°‡ M
					SG2 çš„è¨˜æ†¶é«”ä½å€ï¼Œå†åŠ ä¸Šåç§
					»é‡ï¼Œç§»å‹•åˆ° DX Register 
      46 0028  B4 09				MOV  AH, 09H            ; DOS ç
					š„ç¬¬ 09 è™Ÿä¸­æ–·æœå‹™ (é¡¯ç¤ºå­—ä¸²)
					ï¼›DL (DX Low Byte)ç‚ºè¦é–‹å§‹è¼¸å‡ºçš
					„å­—ä¸² 
      47 002A  CD 21				INT  21H                ; INT 2
					1H: DOS ä¸­æ–· 
      48 002C  8A 56 01				MOV  DL, [BP+1]         ; å°‡ B
					ase Pointer æ‰€æŒ‡åˆ°çš„è¨˜æ†¶é«”ä½å€
					 (æ­¤æ™‚å…§å®¹æ‡‰ç‚º 0x03)å†åŠ ä¸Šï¼‘(
					æ­¤æ™‚å…§å®¹æ‡‰ç‚º 0x3
      49 002F  B4 02				MOV  AH, 02H            ; DOS ç
					š„ç¬¬ 02 è™Ÿä¸­æ–·æœå‹™ (é¡¯ç¤ºè¼¸å‡ºå
					­—å…ƒ)ï¼›DL (DX Low Byte)ç‚ºè¦è¼¸å‡ºçš
					„å­—å…ƒ ('6') 
      50 0031  CD 21				INT  21H                ; INT 2
					1H: DOS ä¸­æ–· 
      51 0033  B4 4C				MOV  AH, 4CH            ; DOS ç
					š„ç¬¬ 4C è™Ÿä¸­æ–·æœå‹™ (å¸¶å›å‚³å€¼ç
					µæŸ)ï¼›AL (AX Low Byte)ç‚ºå›å‚³å€¼ 
      52 0035  CD 21				INT  21H                ; INT 2
					1H: DOS ä¸­æ–· 
      53				 
      54 0037				ADDX PROC                 ; å®šç¾© ADDX
Microsoft (R) Macro Assembler Version 5.00                  1/12/23 23:14:11
                                                             Page     1-3


					 å‡½å¼ 
      55 0037  8B EC				MOV  BP, SP             ; å°‡ S
					tack Pointer çš„å…§å®¹ç§»å‹•åˆ° Base Po
					inter 
      56 0039  8A 56 02				MOV  DL, [BP+2]         ; å°‡ B
					ase Pointer æ‰€æŒ‡åˆ°çš„è¨˜æ†¶é«”ä½å€
					ï¼Œå†åŠ ä¸Šï¼’(æ­¤æ™‚å…§å®¹æ‡‰ç‚º 0x04
					 == 4)ç§»å‹•åˆ° DX Low
      57 003C  8A 46 03				MOV  AL, [BP+3]         ; å°‡ B
					ase Pointer æ‰€æŒ‡åˆ°çš„è¨˜æ†¶é«”ä½å€
					ï¼Œå†åŠ ä¸Šï¼“(æ­¤æ™‚å…§å®¹æ‡‰ç‚º 0x01
					 == 1)ç§»å‹•åˆ° AX Low
      58 003F  02 C2				ADD  AL, DL             ; å°‡ A
					X Low Byte (0x01 == 1) + DX Low Byte (0
					x04 == 4) = (0x05 == 5)ï¼Œå„²å­˜å› AX 
					Low Byte 
      59 0041  04 30				ADD  AL, '0'            ; å°‡ A
					X Low Byte çš„æ•¸å€¼å…§å®¹ (5)è½‰æ›æˆ
					å­—å…ƒ'5' (0x35) 
      60 0043  88 46 03				MOV  [BP+3], AL         ; å°‡ A
					X Low Byte çš„å…§å®¹å„²å­˜å› Base Poin
					ter æ‰€æŒ‡åˆ°çš„è¨˜æ†¶é«”ä½å€å†åŠ ä¸
					Šï¼“ 
      61				                          ; æ­¤æ™‚ .STA
					CK Segment å…§çš„è³‡æ–™æœƒç”± 0x0104 è®
					Šæˆ 0x3504 
      62 0046  C3				RET                     ; å›å‚
					³å€¼....  
      63 0047				ADDX ENDP                 ; ADDX å‡½å¼
					çµæŸ 
      64				 
      65 0047				MULX PROC                 ; å®šç¾© MULX
					 å‡½å¼ 
      66 0047  8B EC				MOV  BP, SP             ; å°‡ S
					tack Pointer çš„å…§å®¹ç§»å‹•åˆ° Base Po
					inter 
      67 0049  8A 56 02				MOV  DL, [BP+2]         ; å°‡ B
					ase Pointer æ‰€æŒ‡åˆ°çš„è¨˜æ†¶é«”ä½å€
					ï¼Œå†åŠ ä¸Šï¼’(æ­¤æ™‚å…§å®¹æ‡‰ç‚º 0x02
					 == 2)ç§»å‹•åˆ° DX Low
      68 004C  8A 46 03				MOV  AL, [BP+3]         ; å°‡ B
					ase Pointer æ‰€æŒ‡åˆ°çš„è¨˜æ†¶é«”ä½å€
					ï¼Œå†åŠ ä¸Šï¼“(æ­¤æ™‚å…§å®¹æ‡‰ç‚º 0x03
					 == 3)ç§»å‹•åˆ° AX Low
      69 004F  F6 E2				MUL  DL                 ; å°‡ A
					X Low Byte (0x02 == 2) * DX Low Byte (0
					x03 == 3) = (0x06 == 6)ï¼Œå„²å­˜å› AX 
					Low Byte 
      70 0051  04 30				ADD  AL, '0'            ; å°‡ A
					X Low Byte çš„æ•¸å€¼å…§å®¹ (6)è½‰æ›æˆ
					å­—å…ƒ'6' (0x36) 
      71 0053  88 46 03				MOV  [BP+3], AL         ; å°‡ A
					X Low Byte çš„å…§å®¹å„²å­˜å› Base Poin
					ter æ‰€æŒ‡åˆ°çš„è¨˜æ†¶é«”ä½å€å†åŠ ä¸
Microsoft (R) Macro Assembler Version 5.00                  1/12/23 23:14:11
                                                             Page     1-4


					Šï¼“ 
      72				                          ; æ­¤æ™‚ .STA
					CK Segment å…§çš„è³‡æ–™æœƒç”± 0x0203 è®
					Šæˆ 0x3603 
      73 0056  C3				RET                     ; å›å‚
					³å€¼....  
      74 0057				MULX ENDP                 ; ADDX å‡½å¼
					çµæŸ 
      75 0057				END main 
Microsoft (R) Macro Assembler Version 5.00                  1/12/23 23:14:11
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

DGROUP . . . . . . . . . . . . .  	GROUP
  _DATA  . . . . . . . . . . . .  	0014	WORD	PUBLIC	'DATA'
  STACK  . . . . . . . . . . . .  	0400	PARA	STACK	'STACK'
_TEXT  . . . . . . . . . . . . .  	0057	WORD	PUBLIC	'CODE'

Symbols:            

                N a m e         	Type	 Value	 Attr

ADDX . . . . . . . . . . . . . .  	N PROC	0037	_TEXT	Length = 0010

MAIN . . . . . . . . . . . . . .  	L NEAR	0000	_TEXT
MSG1 . . . . . . . . . . . . . .  	L BYTE	0000	_DATA
MSG2 . . . . . . . . . . . . . .  	L BYTE	0009	_DATA
MULX . . . . . . . . . . . . . .  	N PROC	0047	_TEXT	Length = 0010

@CODE  . . . . . . . . . . . . .  	TEXT  _TEXT		
@CODESIZE  . . . . . . . . . . .  	TEXT  0		
@DATASIZE  . . . . . . . . . . .  	TEXT  0		
@FILENAME  . . . . . . . . . . .  	TEXT  MAIN		


     73 Source  Lines
     73 Total   Lines
     19 Symbols

  50470 + 466074 Bytes symbol space free

      1 Warning Errors
      0 Severe  Errors
