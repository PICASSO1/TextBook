#include <iostream>
#include "MyString.H"
#include <cstdlib>
#include <cstring>

using namespace std;

mystring::mystring(void)      // SΤ把计韩睾cㄧ计!!
{
	nLen = 0;
	ptr = new char[nLen + 1];
//	memset(ptr, '\0', sozeof(ptr));
	*ptr = '\0';
}
//=================================================================
mystring::mystring(char *STR)      // u肚r甓iㄓ韩睾cㄧ计!!
{
	nLen = strlen(STR);
	ptr = new char[nLen + 1];
	strcpy(ptr, STR);
}
//=================================================================
mystring::mystring(const char cKey, const int Count)      // 肚@应rじの滦Ω计韩睾cㄧ计!!
{
	nLen = Count;
	ptr = new char[nLen + 1];
	for(int i(0); i<Count; i++)
		ptr[i] = cKey;
	ptr[Count] = '\0';
}
//=================================================================
mystring::mystring(const int NUM, const int Index)      // 肚@蛹痞rの膀计韩睾cㄧ计!!
{
	ptr = new char[10];
	memset(ptr, '\0', sizeof(ptr));

	itoa(NUM, ptr, Index);
	nLen = strlen(ptr);
}
//=================================================================
mystring::~mystring(void)      // 秆cㄧ计!!
{
	delete []ptr;
	ptr = 0;
}
//=================================================================
mystring::mystring(const mystring &STR)      // 滦s睾cㄧ计!!
{
	nLen = STR.nLen;
	ptr = new char[nLen + 1];
	strcpy(ptr, STR.ptr);
}
//=================================================================
int mystring::find(char *STR)
{
	int LEN(0), i(0), n(0);
	LEN = strlen(STR);
	if((LEN==1) && (nLen==1))      // 恁墉njMのQjM含O@应rじ!!
	{
		for(i=0; i<nLen; i++)
		{
			if(STR[0] == ptr[i])
				return i+1;      // т齑N^肚O材X!!
		}
	}
	else if((LEN!=1) && (nLen==1))      // 恁墉njM含O@应r辍AQjM含O@应rじ!!
		;
	else     // 恁墉njMのQjM含O@应r!!
	{
		for(i = 0; i<(strlen(ptr)-LEN); i++)
		{
			n = strncmp(ptr+i, STR, LEN);
			if(n == 0)
				return i+1;
		}
	}

	return -1;      // Sт齑N^肚-1
}
